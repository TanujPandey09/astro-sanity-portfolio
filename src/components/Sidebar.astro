---
import { useSanityClient, groq } from "astro-sanity";
const query = groq`*[_type == "sideBar"]{
  ...,
  sideMenus[]->
}`;

const firstPost = await useSanityClient().fetch(query);
---

<!-- component -->
<body class="antialiased">
  <header>
    <nav
      class="flex flex-wrap
          items-center
          justify-between
          w-full
          py-4
          md:py-3
          px-4
          text-black
          md:text-white
          text-lg 
          bg-transparent"
    >
      <div>
        <a href="/">
          <p class="text-black 
          font-Roboto
          hover:shadow-xl transition-transform duration-200 transform hover:scale-105
          md:text-white border border-white rounded-3xl text-lg p-2"> T/P</p>
        <!-- <Icon name="logo"/> -->
        </a>
      </div>
<!-- Menu Button -->
      <svg
        xmlns="http://www.w3.org/2000/svg"
        id="menu-button"
        class="h-6 w-6 cursor-pointer md:hidden block"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>

      <!-- Nav Link -->
      <div class="hidden w-full md:flex md:items-center md:w-auto" id="menu">
        <ul
          class="pt-4
             text-black
              md:text-white
              md:flex
              md:justify-between
              md:pt-3"
        >
        {
          firstPost[0]?.sideMenus?.map((menuItem, index) => (
           
              <li class="transition-transform duration-200 transform hover:scale-105">
                <a
                  class="text-lg font-medium font-Roboto px-5 py-1  hover:text-slate-400"
                  href={menuItem.menuLink.current}
                >
                  {menuItem.menuName}
                </a>
              </li>
            
          ))
        }
       
        </ul>
      </div>
    </nav>
  </header>
</body>

<script>
  // Burger menus
  const button = document.querySelector("#menu-button");
  const menu = document.querySelector("#menu");

  button.addEventListener("click", () => {
    menu.classList.toggle("hidden");
  });

  // Gets the Mobile Nav icon by its ID
  let bars = document.getElementById("bars");

  // Gets the Mobile Nav container
  let mobileMenu = document.getElementById("mobileMenu");

  // Displays the Mobile Nav when clicked and changes the Nav Icon from three bars to an 'X'
  bars.addEventListener("click", function () {
    mobileMenu.classList.toggle("show");
    bars.classList.toggle("fa-times");
  });
</script>

<style>
  .show {
    display: block;
  }
  /* Your existing styles */

  @media (max-width: 768px) {
    .links {
      display: none;
    }

   
  }
</style>
