---
import { useSanityClient, groq } from "astro-sanity";
import ProjectDetails from "../../components/ProjectsLayout/ProjectDetails.astro";
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
  const blogs = await useSanityClient().fetch(
  groq`*[_type == "projects"]{
        ...,
        BackgroundImage{
      asset->{
        url
      }
      },
    }`
  );
  return blogs.map((items) => {
   
    return {
      params: { slug: items.slug?.current },
      props: {
        detailsData: items,
      },
    };
  });
}
const { detailsData } = Astro.props;

---

<Layout title="{}">
  <ProjectDetails detailsData={detailsData} />
</Layout>
